# Семинар 1
<a href="https://ibb.co/41wRkKm"><img src="https://i.ibb.co/Vw0Y6Jj/image.png" alt="image" border="0"></a><br />

1 работа: 22 с -- схема эксперимента
2 работа: 52 с -- схема эксперимента
Потом тесты и проверку подготавливать самостоятельно.

**Задача**: разработать схему одноразрядного полного вычитателя (Subtractor). 
<a href="https://imgbb.com/"><img src="https://i.ibb.co/JkxG2FQ/image.png" alt="image" border="0"></a>
M -- уменьшаемое
S -- вычитаемое
D -- разность

Полный вычитатель: есть входной заём из младшего разряда BI и выходной заём в старший разряд BO

Как будем вычитать число? 

<a href="https://imgbb.com/"><img src="https://i.ibb.co/5Kh4fcy/image.png" alt="image" border="0"></a>

Занимаемые из старших разрядов единицы приходят в младшие как двойки, потому что основание двоичной системы счисления 2.

Попробуем написать функции зависимости D и BO от входов. Для начала составим таблицы истинности. Важно, что x0 -- самый младший разряд. Тогда в нашей таблице М был бы старшим разрядом и его вес равен 4.

Тогда выпишем все сходные наборы и таким образом пронумеруем их.

Из уменьшаемого вычитаются вычитаемое и входной заём. Если вычесть не получается, мы делаем выходной заём и он приходит двойкой.

<a href="https://imgbb.com/"><img src="https://i.ibb.co/KNnn2Lc/image.png" alt="image" border="0"></a>

В домашних ответах лучше делать комментарии о том, как получается эта таблица.

Теперь по таблице надо составить функцию. Например, для СДНФ смотрим наборы, дающие единицу. Это 1, 2, 4 и 7 для разности. Для этих наборов теперь записываем переменные, инвертируя нули:
$$D = \overline M \overline S BI + \overline M S BI + M \overline S \overline {BI} + M S BI$$

Для выходного заёма: $$BO = \overline M\overline S BI + \overline M S \overline {BI} + \overline M S BI + M S BI$$

Каждое слагаемое в этих функциях называется импликантой.

Так как выход инвертора может работать на несколько входов, для D понадобится 3 инвертора. Будет 4 терма, каждый из которых -- конъюнкция на 3 входа, все собираются в ИЛИ из 4 входов:

НЕ -- 3 шт
3И -- 4 шт
4ИЛИ -- 1 шт

Один из методов сравнения по аппаратуре -- по количеству входов элементов. Можно посчитать, что 3 НЕ + 3 И + 4ИЛИ = 19 входов.

А если мы отдельно реализуем BO, там тоже будет 19 входов, и отдельно их реализуя, получим суммарно 38 входов без минимизации и наблюдения каких-то общностей.

Теперь надо минимизировать.
<a href="https://ibb.co/5vWc6QK"><img src="https://i.ibb.co/L6zp8TN/image.png" alt="image" border="0"></a>

1. А + 0 = А
2. А + 1 = 1
3. А + А = А
4. А + А' = 1
5. A' + A' = A'
6. A * 1 = A
7. A * 0 = 0
8. A * A = A
9. A * A' = 0
10. A' * A' = A'


<a href="https://ibb.co/4SNkKJ7"><img src="https://i.ibb.co/SmvS5JP/image.png" alt="image" border="0"></a>


<a href="https://ibb.co/k0k9VNG"><img src="https://i.ibb.co/1KhdYF0/image.png" alt="image" border="0"></a>


<a href="https://ibb.co/GtvStKn"><img src="https://i.ibb.co/WPWJPbG/image.png" alt="image" border="0"></a>

В лабораторных достаточно писать 1, 2, 3 и т.д. (десятичные номера)

<a href="https://ibb.co/30CBH19"><img src="https://i.ibb.co/Vvq28Vc/image.png" alt="image" border="0"></a>

В последней схеме формула получается неправильная, в последних двух термах должно быть ещё и $D$.

Склейка двух единиц приводит к склеиванию одной переменной.

**Метод Квайна-Мак Класки**

Пробуем последовательно попарно склеивать термы друг с другом:

1 и 3 ⇒ $\overline M BI(\overline S + S)$
пробуем склеивать второй терм:
2, 3 ⇒ $\overline M S(\overline {BI} + BI)$
3. 7 ⇒ $S BI(\overline M + M)$
Получили функцию $$BO = \overline M BI + \overline M S + S BI$$
Пробуем склеивать дальше, но у нас не получится. Таким образом мы получили минимальную форму.

Это просто программируется.

Но переменных у нас мало и поэтому мы можем воспользоваться эталонной диаграммой Вейча:

<a href="https://imgbb.com/"><img src="https://i.ibb.co/y0Gv1Xz/image.png" alt="image" border="0"></a>

<a href="https://ibb.co/ggVPV1Y"><img src="https://i.ibb.co/x5HfHvZ/image.png" alt="image" border="0"></a>

Чтобы идентифицировать термы, можно их обозначать буквами или римскими:

<a href="https://imgbb.com/"><img src="https://i.ibb.co/sQQps2c/image.png" alt="image" border="0"></a>
Надо подписывать, какой набор за что отвечает.

Для реализации $BO$ в базисе И, ИЛИ, НЕ нужен 1 инвертор, но мы можем взять его от $D$, а также 3 элемента 2И и один элемент 3ИЛИ. Получается 9-10 входов.

Получается, что суммарно за счёт минимизации получили 19(D) + 9 = 28 входов.

попробуем посмотреть на эти две функции. Понятно, что для $D$ нужно будет по любому реализовать отдельные 4 входных набора. Первый и второй наборы из $D$ можно использовать в схеме $BO$ и не тратить на него аппаратуру

<a href="https://ibb.co/hZhpwDC"><img src="https://i.ibb.co/Brd8Fqw/image.png" alt="image" border="0"></a>

Значит, для реализации $BO$ нужен один 3И и один 3ИЛИ. 

Таким образом, мы сократили схему до 24 входов.

Объединение термов для разных функций можно делать как на глаз, так и с помощью матрицы импликант.

Минимизация многовыходной функции: главная цель -- уменьшить количество используемой аппаратуры. Мы можем получить не минимальную для каждой из функций по отдельности форму, но минимальную в совокупности.

Заключительный этап -- построение схемы. Берём 3 инвертора, 4 элемента 3И, один элемент 2И, один 4ИЛИ и один 3ИЛИ.

<a href="https://imgbb.com/"><img src="https://i.ibb.co/020rLnk/image.png" alt="image" border="0"></a>

Удобно рисовать отдельные входы в виде прямых (6 вертикалей). Чтобы не было пересечений, термы можно разнести чуть пошире. Можно было бы все инверторы разместить выше или ниже. Во 2 лабе инверторы используются как отдельные элементы (инверсии на входе в вертикали не будет).

Можно удалять лишние отрезки линий. В соединениях лучше всего ставить точки. При отладке надписи на вертикальных проводах вверху лучше убирать, они могут засчитаться как отдельные входы.

функция принимает единичные значения на этих наборах 0 = (0, 2, 5)

к семинару можно это сделать в xilinx лучше листок в клетку а4 чтобы по схеме строить диаграммы

<a href="https://ibb.co/GPsPFn7"><img src="https://i.ibb.co/3hfhk41/image.png" alt="image" border="0"></a>

каждый пункт надо подписывать, ссылки на рисунки 
каждый шаг подписывать "эталонная таблица истинности" и тд


# Семинар 2. Реализация функций в базисе 2И-НЕ.

получаем задание завтра

лР2

заданы три функции от 4 переменных
<a href="https://ibb.co/DttwR42"><img src="https://i.ibb.co/nbbQLrJ/image.png" alt="image" border="0"></a>

разработать модель на vhdl для всех трех функций, используя инверторы и добавляется дополнительный пункт: реализовать функцию F1 на мультиплексоре (5 вариантов)


посмотреть, открываются ли мультиплексоры

<a href="https://ibb.co/WvHxVM9"><img src="https://i.ibb.co/b56WbCh/image.png" alt="image" border="0"></a>

на титульный лист клеим задание

потом порядок выполнения работы, который тоже расписан в лабнике

визуально (объединение клеток на вейче) + описанный в сборнике метод меток в импликатной матрицей. Если получим разные варианты, то рекомендуем полученные вторым методом функции наложить на исходные диаграммы вейча и посмотреть, что совпадает/не совпадает

релизация со входными инверторами

"ручное" построение диаграммы -- либо на листке в клеточку (Х0 идёт 0 и 1 по 3 клетки), каждая клетка -- 4 нс

Если строить без xilinx, а с экселем, то длительность X0 = 1 или 0 -- 12 наносекунд. и масштаб 1 клетка = 1 нс

выражения для задержек Tf1 = ... и цифры занести в таблицу как на семинаре (рассчетное, временное моделирование и осциллограф)

релизовать F1 на двух мультиплексорах (на том, что будет задано). Для этих мультиплексоров можно писать отдельный табличку или дополнить этим исходные таблицы истинности

модель на vhdl: предложено 6 вариантов, рекомендовано не пользоваться через and, not а какими-то другими моделями

проверяется количественно: эти пункты выполнены, проверяется по мере присылания, в пн-вт-ср можно задавать вопросы

обычно порядок выполнения переписывается на оборот титульного листа. вообще оборотная сторона листа нас не интересует

формат а4, могут быть листы в клеточку, задание наклеиваем

<a href="https://ibb.co/L9Jm1Md"><img src="https://i.ibb.co/8Pdq9Jg/image.png" alt="image" border="0"></a>

Национальный исследовательский ядерный университет "МИФИ"


на титульном листе фамилия, задание, лр №2 и её название, надо знать какую работу мы сдаём и какой пункт сдаём

входной тест 15 минут, если не написан, то к работе не допускаемся, но подготовку сдаём. проверяется подготовка

на титульном листе фамилию и задание размещается выше, чтобы можно было расписывать выполнение пунктов ниже

подготовка: допущен/не допущен

дальше 6 пунктов надо сдать преподавателю, какие-то пункты могут быть сданы вместе

зачетный тест после получения 6 подписей на полчаса

когда мы собрали схему, надо провести функциональное моделирование. что выводить: выходы счетчиков, выходы инверторов и элементы термов (как они обозначены в минимизации и на временной диаграмме), функции можно выводить как цепи а можно как отдельные элементы

выходы счетчика сворачиваем в шину, не иксы

сдаём пункт 2 и сравниваем, что функция мультиплексора совпадает с f1

на ту же схему vhdl
стенд (пример 52 страница), там нет мультиплексора, поэтому надо не забыть на индикацию вывести FM1

два следующих можно в другом порядве: измерение задержек 7 ф-ий: 3f, мультиплексор и vhdl. 

осциллограф: проверка функций в соответствии с заданием и таблицей истинности/построенной диаграммы

надо написать порядок выполнения (то есть переписать то что на слайде на обороте титульного листа -- написать эти шаги, что надо делать)

<a href="https://ibb.co/TmZ3mwR"><img src="https://i.ibb.co/3BwZBTW/image.png" alt="image" border="0"></a>


на схемах лучше подавать VCC: меньше изменений по переключениям




по лабе
берём из задачника двухступенчатый ТТ

матрицы переходов для триггера NR NS

включаем инвертор в триггер чтобы отдельно был и на элементах И-НЕ с асинхронными входами NR NS

на DV и JK можно не переходить

ручная диаграмма как на с 63-68 надо учитывать что или и тоже работают и надо помнить несколько таблиц

ручное построение вд

всё на одной диаграмме

дома можно не подавать входы ns nr мы считаем что исходный q = 0, 

из него строим выражения для задежрек в тч для инверсного выхода и их расчёт, для dv и jk только одного выхода

раз есть входы ns nr, надо решать как соединять clr

не всю схему приводим, а рисуем 4 прямоугольника в виде УГО (ТТ, dv, jk, vhdl)

смоделировать лучше в unitе


<a href="https://imgbb.com/"><img src="https://i.ibb.co/drb02pd/image.png" alt="image" border="0">

исходное состояние = 0

счётчик асинхронный

триггеры 0 и 2 работают как Т (по фронту С меняют своё значение на противоположное), триггер 1 как D (передаёт D со входа на выход с задержкой), по сути он передаёт Q0 на Q1 с задержкой в 1 такт

триггер 2 меняет своё значение по фронту сигнала Q1

строить диаграмму можно было бы в виде цифрограммы

0 не считается, потому что он дальше нигде не повторится

---
<a href="https://imgbb.com/"><img src="https://i.ibb.co/1n7R3Qk/image.png" alt="image" border="0">

(диаграмма приведена, если бы вместо Т триггера был D)


синхронный счётчик (счётный вход соединяется у всех), строить можно и таблицу состояний (цифрограмму)

младший разряд переключается каждый раз в противоположное состояние

следующий триггер - D, передаёт это состояние с задержкой

старший триггер - Т.

<img src="https://i.ibb.co/47f4bJx/image.png" alt="image" border="0">

---
все триггеры кроме первого (левого) работают как D триггеры

что можно было бы строить

<img src="https://i.ibb.co/hX9Z87V/image.png" alt="image" border="0">
1 и 3 голубые не должны учитывать: устойчивые состояния -- когда прошёл один счётный импульс и долго ждёт следующего состояния до завершения всех переходных процессов, голубые состояния не устойчивые: если подать на стенде одиночный импульс, они уйдут и переключатся

смотрим состояния после окончания импульса

наборы: 0 3 6 1

---
<a href="https://imgbb.com/"><img src="https://i.ibb.co/vmD2Qfm/image.png" alt="image" border="0"></a>

на D триггере передаётся состояние, которое было до фронта

---

<a href="https://ibb.co/kqFFqNT"><img src="https://i.ibb.co/L9ff9Vy/image.png" alt="image" border="0">


декомпозиция

<a href="https://ibb.co/ThZxXpv"><img src="https://i.ibb.co/zf1Tcjn/image.png" alt="image" border="0"></a>

Z указывает сколько единиц есть -- 0, 1 , 2 или 3



также можно было сделать КС от 3 переменных и смотреть, что единиц больше, чем две

можно превратить 4 входа в 3 выхода и к ним добавить ещё один вход

а можно превратить 3 входа в 2 выхода

<a href="https://imgbb.com/"><img src="https://i.ibb.co/HzGkKFt/image.png" alt="image" border="0"></a>

от 3 переменных преобразуем в двоичный позиционный код от 0 до 4

нужно ли все триггеры одновременно сбрасывать или отдельно 

или счётчики вместе с триггерами

надо иметь возможность задать **любой** набор













<!--stackedit_data:
eyJoaXN0b3J5IjpbLTE1MDg2NDM4NTUsLTE3MTEzMjYzMjUsLT
U1OTY4NTk2LDk4NzQ4MTUyNSw5MDk2MjcyMzVdfQ==
-->